<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Explore World ‚Äì Blogs</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --primary: #7b1fa2; /* Deep Maroon */
      --secondary: #004d40; /* Dark Green */
      --accent: #f9a825; /* Golden Yellow */
      --bg: #fff8f0;
      --text: #2f2f2f;
      --card-bg: #ffffff;
      --shadow: rgba(0, 0, 0, 0.1);
    }
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: var(--background);
      color: #222;
      transition: background 0.4s, color 0.4s;
    }
    body.dark {
      background: var(--dark-bg);
      color: var(--dark-text);
    }
    nav {
      position: fixed;
      top: 0;
      width: 100%;
      background: #fff;
      padding: 1rem 2rem;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
    }
    nav .nav-links a {
      margin: 0 12px;
      text-decoration: none;
      color: #555;
      transition: 0.3s;
    }
    nav .nav-links a.active {
      color: var(--primary);
      font-weight: 700;
      border-bottom: 2px solid var(--primary);
    }
    nav .nav-links a:hover {
      color: var(--primary);
    }
    nav .toggle {
      cursor: pointer;
      font-size: 1.2rem;
      color: var(--primary);
    }
    main {
      padding: 6rem 2rem 2rem;
      max-width: 1000px;
      margin: auto;
    }
    h1 {
      text-align: center;
      font-size: 2.8rem;
      margin-bottom: 2rem;
      color: var(--primary);
    }
    .search-bar {
      display: flex;
      justify-content: center;
      margin-bottom: 2rem;
    }
    .search-bar input {
      padding: 0.7rem 1rem;
      border-radius: 30px;
      border: 1px solid #ccc;
      width: 80%;
      max-width: 500px;
      font-size: 1rem;
    }
    .blog-card {
      background: var(--card-bg);
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 8px 30px rgba(0, 131, 176, 0.1);
      margin-bottom: 2rem;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      outline: none;
    }
    .blog-card:hover,
    .blog-card:focus {
      transform: translateY(-5px);
      box-shadow: 0 12px 40px rgba(0, 131, 176, 0.15);
    }
    .blog-card h2 {
      margin-top: 0;
      color: var(--secondary);
    }
    .blog-card p {
      line-height: 1.6;
    }
    .blog-card button {
      margin-top: 1rem;
      padding: 0.6rem 1.5rem;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      transition: 0.3s;
    }
    .blog-card button:hover,
    .blog-card button:focus {
      background: #00a7d3;
      outline: none;
    }
    #comments {
      background: var(--comment-bg);
      padding: 2rem;
      border-radius: 15px;
      max-width: 800px;
      margin: 3rem auto 2rem;
    }
    form input,
    form textarea {
      width: 100%;
      padding: 0.8rem;
      border-radius: 8px;
      border: 1px solid var(--secondary);
      font-size: 1rem;
      margin-bottom: 0.7rem;
      font-family: "Poppins", sans-serif;
    }
    form button {
      margin-top: 1rem;
      padding: 0.6rem 1.5rem;
      background: var(--secondary);
      color: white;
      border: none;
      border-radius: 30px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
    }
    form button:hover,
    form button:focus {
      background: #0081a0;
      outline: none;
    }
    .comments-list {
      margin-top: 2rem;
    }
    .comment {
      background: #fff;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    }
    .comment .meta {
      font-size: 0.9rem;
      color: #555;
      margin-bottom: 0.5rem;
    }
    .comment .meta span {
      font-weight: 600;
    }
    .back-to-top {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.8rem 1rem;
      border-radius: 50%;
      font-size: 1.2rem;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      z-index: 999;
    }
    .dark nav {
      background: #222;
    }
    .dark nav a {
      color: #ccc;
    }
    .dark nav a.active {
      color: #00cfe8;
    }
    .dark .blog-card,
    .dark .comment {
      background: #2a2a2a;
      color: #f1f1f1;
    }
    .dark #comments {
      background: #333;
    }
    .dark form input,
    .dark form textarea {
      background: #444;
      color: white;
      border-color: #666;
    }
     @keyframes fireGlow {
  0% {
    filter: drop-shadow(0 0 4px rgba(255, 140, 0, 0.6));
  }
  50% {
    filter: drop-shadow(0 0 12px rgba(255, 190, 0, 1));
  }
  100% {
    filter: drop-shadow(0 0 6px rgba(255, 140, 0, 0.8));
  }
}
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav style="
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: linear-gradient(to right, #ffffffcc, #ffffffdd),  repeat;
  background-size: 200px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.07);
  z-index: 999;
  padding: 1rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-family: 'Quicksand', sans-serif;
  backdrop-filter: blur(6px);
">

  <!-- Logo / Brand -->
  <div style="font-weight: 800; font-size: 1.6rem; color: var(--primary); display: flex; align-items: center;">
    <img src="https://beyondthewesterngaze.com/wp-content/uploads/2020/08/mask-3235633_1280.jpg?w=1280" alt="logo" style="width:30px; margin-right:10px;"> Explore Srilanka
  </div>

  <!-- Links -->
  <div class="nav-links" style="display: flex; gap: 1.2rem;">
    <a href="index.html" style="text-decoration: none; color: #333; font-weight: 600; position: relative; transition: color 0.3s;">
      Home
    </a>
    <a href="http://localhost/project/my_bookings.php" style="text-decoration: none; color: #333; font-weight: 600; position: relative;">My Bookings</a>
    <a href="about.html" style="text-decoration: none; color: #333; font-weight: 600; position: relative;">Who We Are</a>
    <a href="blogs.html" class="active" style="text-decoration: none; color: #333; font-weight: 600; position: relative;">Blogs</a>
    <a href="journey.php" style="text-decoration: none; color: #333; font-weight: 600; position: relative;">Events</a>
    <a href="Destinations&Hotels.php"  style="text-decoration: none; ; font-weight: 700; position: relative;">
      Hotels & Destinations
    </a>
    <a href="services.html" style="text-decoration: none; color: #333; font-weight: 600; position: relative;">Services</a>
    <a href="weather-news.html" style="text-decoration: none; color: #333; font-weight: 600; position: relative;">Weather & News</a>
    <a href="contact.html" style="text-decoration: none; color: #333; font-weight: 600; position: relative;">Contact</a>
  </div>
</nav>

  <main>
    <h1>Travel Blogs & Stories</h1>

    <div class="search-bar">
      <input
        type="text"
        id="searchInput"
        onkeyup="filterBlogs()"
        placeholder="Search blogs..."
        aria-label="Search blogs"
      />
    </div>

    <!-- Existing Blogs -->
    <article class="blog-card expandable" tabindex="0" aria-label="Blog about Sri Lanka‚Äôs Cultural Triangle" id="blog1">
      <h2>üå¥ Discovering Sri Lanka‚Äôs Cultural Triangle</h2>
      <p>
        Sri Lanka‚Äôs Cultural Triangle connects the ancient cities of Anuradhapura, Polonnaruwa, and the majestic Sigiriya rock fortress.
        <span class="more-content" style="display:none;">
          These UNESCO World Heritage sites offer a window into a 2000-year-old civilization. Climb Sigiriya at sunrise, visit cave temples in Dambulla, and marvel at royal ruins in Polonnaruwa. Guided tours can reveal hidden frescoes and stories lost to time.
        </span>
      </p>
      <button
        class="read-more-btn"
        onclick="toggleReadMore(this)"
        aria-expanded="false"
        aria-controls="more-content-blog1"
      >
        Read More
      </button>

      <!-- Comments for blog1 -->
      <section id="comments-blog1" aria-label="Comments for Sri Lanka‚Äôs Cultural Triangle">
        <h3>üí¨ Leave a Comment</h3>
        <form onsubmit="submitComment(event, 'blog1')" aria-describedby="form-msg-blog1">
          <input
            type="text"
            id="name-blog1"
            placeholder="Your name"
            required
            aria-required="true"
            aria-label="Your name"
            autocomplete="name"
          />
          <textarea
            id="comment-blog1"
            placeholder="Your comment"
            required
            rows="4"
            aria-required="true"
            aria-label="Your comment"
          ></textarea>
          <button type="submit">Submit</button>
          <div
            id="form-msg-blog1"
            role="alert"
            aria-live="polite"
            style="margin-top: 8px; font-weight: 600; color: #d32f2f; display: none;"
          ></div>
        </form>
        <div id="comments-list-blog1" class="comments-list">
          <h4>Recent Comments</h4>
        </div>
      </section>
    </article>

    <article class="blog-card expandable" tabindex="0" aria-label="Blog about Train Ride Through the Tea Hills of Ella" id="blog2">
      <h2>üèûÔ∏è Train Ride Through the Tea Hills of Ella</h2>
      <p>
        The scenic train ride from Kandy to Ella is among the most beautiful railway journeys globally.
        <span class="more-content" style="display:none;">
          Passing lush green tea plantations, cascading waterfalls, and misty mountains, the ride offers unforgettable views. Stop at Ella town to hike Little Adam‚Äôs Peak and visit Nine Arches Bridge.
        </span>
      </p>
      <button
        class="read-more-btn"
        onclick="toggleReadMore(this)"
        aria-expanded="false"
        aria-controls="more-content-blog2"
      >
        Read More
      </button>

      <!-- Comments for blog2 -->
      <section id="comments-blog2" aria-label="Comments for Train Ride Through the Tea Hills of Ella">
        <h3>üí¨ Leave a Comment</h3>
        <form onsubmit="submitComment(event, 'blog2')" aria-describedby="form-msg-blog2">
          <input
            type="text"
            id="name-blog2"
            placeholder="Your name"
            required
            aria-required="true"
            aria-label="Your name"
            autocomplete="name"
          />
          <textarea
            id="comment-blog2"
            placeholder="Your comment"
            required
            rows="4"
            aria-required="true"
            aria-label="Your comment"
          ></textarea>
          <button type="submit">Submit</button>
          <div
            id="form-msg-blog2"
            role="alert"
            aria-live="polite"
            style="margin-top: 8px; font-weight: 600; color: #d32f2f; display: none;"
          ></div>
        </form>
        <div id="comments-list-blog2" class="comments-list">
          <h4>Recent Comments</h4>
        </div>
      </section>
    </article>

    <article class="blog-card expandable" tabindex="0" aria-label="Blog about the Beaches of Mirissa" id="blog3">
      <h2>üèñÔ∏è Beaches of Mirissa: Sun, Surf, and Serenity</h2>
      <p>
        Mirissa is a slice of paradise on Sri Lanka‚Äôs southern coast.
        <span class="more-content" style="display:none;">
          With golden sands and turquoise waters, it‚Äôs perfect for swimming, surfing, and whale watching. At night, beachside shacks serve fresh seafood with a backdrop of twinkling stars.
        </span>
      </p>
      <button
        class="read-more-btn"
        onclick="toggleReadMore(this)"
        aria-expanded="false"
        aria-controls="more-content-blog3"
      >
        Read More
      </button>

      <!-- Comments for blog3 -->
      <section id="comments-blog3" aria-label="Comments for Beaches of Mirissa">
        <h3>üí¨ Leave a Comment</h3>
        <form onsubmit="submitComment(event, 'blog3')" aria-describedby="form-msg-blog3">
          <input
            type="text"
            id="name-blog3"
            placeholder="Your name"
            required
            aria-required="true"
            aria-label="Your name"
            autocomplete="name"
          />
          <textarea
            id="comment-blog3"
            placeholder="Your comment"
            required
            rows="4"
            aria-required="true"
            aria-label="Your comment"
          ></textarea>
          <button type="submit">Submit</button>
          <div
            id="form-msg-blog3"
            role="alert"
            aria-live="polite"
            style="margin-top: 8px; font-weight: 600; color: #d32f2f; display: none;"
          ></div>
        </form>
        <div id="comments-list-blog3" class="comments-list">
          <h4>Recent Comments</h4>
        </div>
      </section>
    </article>

    
  </main>

  <button
    class="back-to-top"
    onclick="window.scrollTo({ top: 0, behavior: 'smooth' })"
    aria-label="Back to top"
  >
    <i class="fas fa-arrow-up"></i>
  </button>

<!-- Fire GIF that follows the mouse -->
<img id="fire-cursor" src="images/fire.gif" 
     alt="fire cursor" 
  style="
       position: fixed; 
       top: 0; 
       left: 0; 
       width: 90px; 
       height: 90px; 
       pointer-events: none; 
       z-index: 1500; 
       user-select: none;
       filter: drop-shadow(0 0 6px rgba(255, 140, 0, 0.8));
       animation: fireGlow 2s ease-in-out infinite alternate;
     ">
    <script>
  const fireCursor = document.getElementById('fire-cursor');

  window.addEventListener('mousemove', e => {
    const offsetX = 20;  // Adjust so fire doesn't block the arrow tip
    const offsetY = 20;
    fireCursor.style.left = (e.clientX + offsetX) + 'px';
    fireCursor.style.top = (e.clientY + offsetY) + 'px';
  });
</script>

  <script>
    // Toggle dark mode
    function toggleDarkMode() {
      const body = document.body;
      const toggleBtn = document.querySelector(".toggle");
      body.classList.toggle("dark");
      const isDark = body.classList.contains("dark");
      toggleBtn.setAttribute("aria-pressed", isDark.toString());
      toggleBtn.innerHTML = isDark
        ? '<i class="fas fa-sun"></i>'
        : '<i class="fas fa-moon"></i>';
    }

    // Read more toggle for blogs
    function toggleReadMore(button) {
      const paragraph = button.previousElementSibling;
      const moreContent = paragraph.querySelector(".more-content");
      const isHidden = moreContent.style.display === "none";

      if (isHidden) {
        moreContent.style.display = "inline";
        button.innerText = "Read Less";
        button.setAttribute("aria-expanded", "true");
      } else {
        moreContent.style.display = "none";
        button.innerText = "Read More";
        button.setAttribute("aria-expanded", "false");
      }
    }

    // Search filter function
    function filterBlogs() {
      const input = document.getElementById("searchInput");
      const filter = input.value.toLowerCase();
      const blogs = document.querySelectorAll(".blog-card");

      blogs.forEach((blog) => {
        const title = blog.querySelector("h2").textContent.toLowerCase();
        const content = blog.querySelector("p").textContent.toLowerCase();

        if (title.includes(filter) || content.includes(filter)) {
          blog.style.display = "";
        } else {
          blog.style.display = "none";
        }
      });
    }

    // Comments functionality with localStorage persistence
    function submitComment(event, blogId) {
      event.preventDefault();
      const nameInput = document.getElementById(`name-${blogId}`);
      const commentInput = document.getElementById(`comment-${blogId}`);
      const formMsg = document.getElementById(`form-msg-${blogId}`);
      const commentsList = document.getElementById(`comments-list-${blogId}`);

      const name = nameInput.value.trim();
      const comment = commentInput.value.trim();

      if (!name || !comment) {
        formMsg.style.display = "block";
        formMsg.textContent = "Please enter both your name and comment.";
        return;
      }

      formMsg.style.display = "none";

      const commentObj = {
        name,
        comment,
        date: new Date().toLocaleString(),
      };

      // Save comments to localStorage
      const storedComments =
        JSON.parse(localStorage.getItem(`comments-${blogId}`)) || [];
      storedComments.push(commentObj);
      localStorage.setItem(`comments-${blogId}`, JSON.stringify(storedComments));

      // Clear inputs
      nameInput.value = "";
      commentInput.value = "";

      // Append comment to DOM
      appendComment(commentObj, commentsList);
    }

    function appendComment(commentObj, container) {
      const commentDiv = document.createElement("div");
      commentDiv.classList.add("comment");
      commentDiv.innerHTML = `
        <div class="meta"><span>${commentObj.name}</span> - <em>${commentObj.date}</em></div>
        <div class="text">${commentObj.comment}</div>
      `;
      container.appendChild(commentDiv);
    }

    // Load comments from localStorage on page load
    window.addEventListener("DOMContentLoaded", () => {
      const blogs = document.querySelectorAll(".blog-card");

      blogs.forEach((blog) => {
        const blogId = blog.id;
        const commentsList = document.getElementById(`comments-list-${blogId}`);
        if (!commentsList) return;

        const storedComments =
          JSON.parse(localStorage.getItem(`comments-${blogId}`)) || [];
        storedComments.forEach((comment) =>
          appendComment(comment, commentsList)
        );
      });
    });
  </script>
</body>
</html>
